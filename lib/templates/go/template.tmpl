package <%= package %>

import (
	"encoding/json"
)

<% for (var i=0; i < comments.length; i++) { %>
// <%= comments[i] %> <% } %>
type <%= name %> struct {
	<% for (var i=0;i<attributes.length; i++) { var a = attributes[i]; %>
		<% for (var x=0; x < a.comments.length; x++) { %>
		// <%= a.comments[x] %> <% } %>
		
		<% if (a.readonly || a.access === 'private') { %>
		<%= a.name.toLowerCase() %> <%= a.type %> `json:"<%= a.json %>"`
		
		<% } else {%>
		
		<%= a.name.capitalize() %> <%= a.type %> `json:"<%= a.json %>"`
		
		<% } %>
	<% } %>
}

<% var short = name[0].toLowerCase(); %>

func (<%= short %> *<%= name %>) ToJSON () ([]byte, error) {
	return json.Marshal(s)
}

<% for (var i=0;i<attributes.length; i++) { var a = attributes[i]; %>
<% if (a.readonly && a.access !== 'private') { %>
func (<%= short %> *<%= name %>) Get<%=a.name%> () <%= a.type %> {
	return <%= short %>.<%=a.name.toLowerCase()%>
} 
<% } %> 

<% } %>